# 課題1

## 回答

<a href="https://imgur.com/wwCj5LB"><img src="https://i.imgur.com/wwCj5LB.png" title="source: imgur.com" width="100%" /></a>

## 任意課題

- 物理モデルと論理モデルの違い
  - 論理モデル
    - 論理設計の段階でつくられるモデル。
    - 物理層の制約を一旦脇において考えられたモデル
  - 物理モデル
    - 物理層の制約を考えて作られたモデル

- 物理層の制約とは？
  - DBサーバーのCPU性能、ストレージのデータ格納場所、DBMSで使えるデータ型やSQL構文といったより具体的で実装レベルの条件のこと。

- 論理設計と物理設計の関係
  - 基本的に論理設計をしてから物理設計を行う。
  - 料理で例えるならば、料理を決めてから器を用意するということ。
  - 器を決めてから料理を決めるのは、料理を作り終わってみれば、適切な器ではなかったというケースが発生するため推奨はできない。

# 課題2

## 回答

<a href="https://imgur.com/v258Coc"><img src="https://i.imgur.com/v258Coc.png" title="source: imgur.com" width="100%" /></a>

サイズの種類に相当するshari_typeカラムを追加して、0:「小」, 1:「中」, 2:「大」と対応させる。

寿司ネタが毎月何個売れているかを集計するには、一ヶ月の注文を集計して、それに紐ずく寿司ネタのidで寿司ネタごとに集計すればいいと思った。
# 課題3

- 現状では、ワサビの有無がメニューの種類単位でしか選べないか、一皿単位や一貫単位で選べるようにしたい。
- セットメニューに食べれないネタがあったときに、他のネタに交換できるようにしたい。

# トリオセッション

## 議論内容

- セットメニューとお好み寿司のメニューは分けるべきか？
  - 自分、ジョーさん
    - 一つのメニューテーブルにしていた。
  - ヒカルさん
    - セットメニューとお好み寿司で今後持つデータが変わってくるかもしれないので、分けたほうがいい。
  - テーブルを分けた場合の注意点
    - 分けた場合には注文テーブルも注文テーブル（セットメニュー）、注文テーブル（お好み寿司）に分ける必要がある。
    - joinする時にアプリケーション側で注意が必要となる。
- メニューテーブルに変更があった場合にどうするのか？
  - マスターテーブルのレコードを物理削除するのは、マスターデータに紐付いたトランザクションデータを追えなくなるのでよろしくない。
  - 論理削除もアンチパターンとされている。
  - 削除ではなく、表示、非表示といった論理フラグを持たせることで解決できるかもしれない。
- 決済日時、決済状態はどのようなテーブルで保持するべきか？
- ３皿注文の内、２皿さび抜きやサイズ変更はどう対応するか。
  - サイズ
  - わさび抜き
